---
created: 2025-10-16
id: TKT-0012
owner: openai-assistant
priority: P1
status: In-Progress
title: Refactor wave group edit buttons for modular clarity
---

## Context

> The `WaveGroupEditButtons` component has accreted mixed responsibilities spanning UI composition, event wiring, and conditional logic. This refactor extracts reusable building blocks while preserving runtime behaviour, visuals, and typing guarantees.

## Plan

- [x] Audit existing component structure, state and handler responsibilities.
- [x] Propose modular breakdown across subcomponents, hooks, and helpers aligned with project conventions.
- [x] Implement refactor with behaviour parity and updated imports/exports.
- [ ] Validate via linting, type-checks, and targeted tests as required.

## Acceptance

- [ ] `WaveGroupEditButtons` rebuilt as a composition shell delegating to extracted modules.
- [ ] Behaviour, styling, and TypeScript typings remain unchanged.
- [ ] Tests, lint, and type-check commands succeed without new warnings.

## Links

- Primary PR: _(add when available)_
- Follow-ups: _(reference additional tickets or TODO items)_

## Log

- 2025-10-16T00:00:00Z – Ticket drafted and initial component audit started.
- 2025-10-16T01:00:00Z – Extracted hooks/subcomponents/utils, updated exports; type-check blocked by existing repo errors.
- 2025-10-16T01:30:00Z – Consolidated controller naming and modal handling via enum-driven API.
- 2025-10-16T02:30:00Z – Synced group edit form with excluded identity data to surface both lists in edit mode.
- 2025-10-16T02:50:00Z – Hydrated wallet upload state from incoming props so both include/exclude panels show existing counts.
- 2025-10-16T03:10:00Z – Added temporary wait after publishing groups before updating waves while we investigate backend read-after-write timing.
