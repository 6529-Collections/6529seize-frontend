#!/usr/bin/env bash
set -euo pipefail

values=(
  "029141607"
"be35743b7"
"30924cc31"
"323c1dd59"
"654320564"
"2c4cd4470"
"df130eddd"
"e9e5ff758"
"f528beccb"
"f7fc2f8af"
"8d2d1bbf1"
"35e211346"
"845774d2a"
"626469afe"
"0ad47f1a5"
"243d45846"
"f7b7c6d8e"
"c24f7244a"
"947d25c3b"
"a0e0722be"
"7e523ff7a"
"187c588b5"
"f34d7d9be"
"fd663fd92"
"d052df1d6"
"b14cf99db"
"e882934fa"
"b23703123"
"104a6393b"
"4d5ad8faf"
"435652390"
"076512c38"
"67be2f7b2"
"bf3faec89"
"808ebc72c"
"81c83ffe1"
"70625a9bd"
"df6b6a7f3"
"1261bfd2c"
"e5441d8b5"
"8b9e96092"
"b263146fd"
"5251eae8d"
"ccbc1396e"
"24fd69836"
"f90fe54d6"
"84a04e56a"
"9b6325150"
"10a277be7"
"3f7b83952"
"b442943cb"
"e78b1f6c9"
"86fcbed26"
"781d8aabb"
"e6f2ee215"
"2f46ab3ae"
"b954f4ef1"
"c657506d8"
"c001b6456"
"36917030d"
"ea8afd16f"
"07c6d446d"
"f2a5eee79"
"689be616a"
"8babd2539"
"cf8132984"
"58f8fa8fc"
"520585b46"
"a2f4d8243"
"e991bbda3"
"fb1e418d6"
"aca26c200"
"01048f64c"
"e9be8f59c"
"ecce4d4e3"
"6f65e5f19"
"d114da5a7"
"8d38a8c65"
"a5a5bc5ca"
"09e1d1401"
"108ae7da7"
)

for ((i=${#values[@]}-1; i>=0; i--)); do
  codex exec -- "\$commit-docs-updater ${values[i]}"
  git add docs

  if git diff --cached --quiet; then
    echo "No docs changes for ${values[i]}; skipping commit."
  else
    codex exec -- "\$docs-precommit-guard ${values[i]}"
    git commit -m "docs updated for ${values[i]}"
  fi
done
