# Src Directory Context

## File Organization & Utility Structure

### Current Structure
```
src/
├── errors/                  # Error handling utilities
│   ├── authentication.ts   # Auth-specific errors
│   ├── wallet-auth.ts      # Wallet authentication errors
│   ├── wallet-connection.ts # Connection error handling
│   └── adapter.ts          # Adapter pattern errors
├── types/                  # TypeScript definitions
│   ├── security.ts         # Security-related types
│   └── window.d.ts         # Window object extensions
└── utils/                  # Pure utility functions
    ├── security-logger.ts  # Secure logging utilities
    └── wallet-sanitization.ts # Input sanitization
```

### File Organization Principles

#### Single Responsibility for Utilities
- **One Function Per File**: Small, focused utility functions
- **Related Functions**: Group in same file only if tightly coupled
- **Pure Functions**: No side effects, predictable outputs
- **Type Safety**: Full TypeScript coverage for all utilities

#### Error Handling Architecture
```typescript
// ✅ Good: Specific error types
class WalletConnectionError extends Error {
  constructor(message: string, public code: string) {
    super(message)
    this.name = 'WalletConnectionError'
  }
}

class AuthenticationError extends Error {
  constructor(message: string, public code: string) {
    super(message)
    this.name = 'AuthenticationError'
  }
}

// ✅ Good: Error factory functions
export function createWalletError(code: string, message: string) {
  return new WalletConnectionError(message, code)
}
```

### Utility Function Patterns

#### Pure Function Design
```typescript
// ✅ Good: Pure utility function
export function formatCurrency(
  amount: number | bigint,
  currency: string = 'USD',
  decimals: number = 2
): string {
  const numericAmount = typeof amount === 'bigint' 
    ? Number(amount) / Math.pow(10, 18) // Handle Wei conversion
    : amount
    
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency,
    minimumFractionDigits: decimals,
    maximumFractionDigits: decimals
  }).format(numericAmount)
}

// ✅ Good: Validation utility
export function isValidEthereumAddress(address: string): boolean {
  return /^0x[a-fA-F0-9]{40}$/.test(address)
}

// ✅ Good: Transformation utility
export function truncateAddress(
  address: string,
  startChars: number = 6,
  endChars: number = 4
): string {
  if (!isValidEthereumAddress(address)) {
    throw new Error('Invalid Ethereum address')
  }
  
  return `${address.slice(0, startChars)}...${address.slice(-endChars)}`
}
```

#### Error Handling Utilities
```typescript
// Security-focused error handling
export function sanitizeErrorMessage(message: string): string {
  // Remove sensitive patterns
  return message
    .replace(/0x[a-fA-F0-9]+/g, '[ADDRESS_REDACTED]')
    .replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g, '[EMAIL_REDACTED]')
    .replace(/\b\d{4}\s?\d{4}\s?\d{4}\s?\d{4}\b/g, '[CARD_REDACTED]')
}

// Structured error logging
export function logError(
  context: string,
  error: Error,
  metadata?: Record<string, unknown>
): void {
  const logEntry = {
    timestamp: new Date().toISOString(),
    context,
    name: error.name,
    message: sanitizeErrorMessage(error.message),
    stack: error.stack ? sanitizeErrorMessage(error.stack) : undefined,
    metadata: metadata ? sanitizeMetadata(metadata) : undefined
  }
  
  // Log to appropriate service based on environment
  if (process.env.NODE_ENV === 'development') {
    console.error('[ERROR]', logEntry)
  } else {
    // Send to monitoring service
    sendToMonitoringService(logEntry)
  }
}
```

### Type Organization Strategy

#### Domain-Specific Types
```typescript
// types/wallet.ts
export interface WalletConnection {
  address: string
  chainId: number
  isConnected: boolean
  provider: unknown
}

export interface WalletError {
  code: string
  message: string
  details?: Record<string, unknown>
}

export type WalletState = 
  | { status: 'disconnected' }
  | { status: 'connecting' }
  | { status: 'connected'; connection: WalletConnection }
  | { status: 'error'; error: WalletError }
```

#### Shared Base Types
```typescript
// types/common.ts
export interface ApiResponse<T> {
  data: T
  success: boolean
  message?: string
  error?: string
}

export interface PaginatedResponse<T> extends ApiResponse<T[]> {
  pagination: {
    page: number
    limit: number
    total: number
    hasMore: boolean
  }
}

export type AsyncState<T> = 
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: T }
  | { status: 'error'; error: Error }
```

#### Component Prop Types
```typescript
// types/components.ts
export interface BaseComponentProps {
  className?: string
  children?: React.ReactNode
  testId?: string
}

export interface ButtonProps extends BaseComponentProps {
  variant?: 'primary' | 'secondary' | 'danger'
  size?: 'small' | 'medium' | 'large'
  disabled?: boolean
  loading?: boolean
  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void
}

export interface ModalProps extends BaseComponentProps {
  isOpen: boolean
  onClose: () => void
  title?: string
  size?: 'small' | 'medium' | 'large' | 'fullscreen'
}
```

### Security Utilities

#### Input Sanitization
```typescript
// utils/sanitization.ts
export function sanitizeUserInput(input: string): string {
  return input
    .trim()
    .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
    .replace(/javascript:/gi, '')
    .replace(/on\w+\s*=/gi, '')
}

export function sanitizeHtml(html: string): string {
  // Use DOMPurify or similar library in production
  return html.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, '')
}

export function validateAndSanitizeAddress(address: string): string {
  const sanitized = address.trim().toLowerCase()
  
  if (!isValidEthereumAddress(sanitized)) {
    throw new Error('Invalid Ethereum address format')
  }
  
  return sanitized
}
```

#### Crypto Utilities
```typescript
// utils/crypto.ts
export function generateSecureNonce(): string {
  const array = new Uint8Array(32)
  crypto.getRandomValues(array)
  return Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('')
}

export function hashMessage(message: string): string {
  const encoder = new TextEncoder()
  const data = encoder.encode(message)
  
  return crypto.subtle.digest('SHA-256', data)
    .then(hashBuffer => {
      const hashArray = Array.from(new Uint8Array(hashBuffer))
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join('')
    })
}

export function isSecureContext(): boolean {
  return typeof window !== 'undefined' && window.isSecureContext
}
```

### Data Transformation Utilities

#### Web3 Utilities
```typescript
// utils/web3.ts
export function weiToEth(wei: bigint): number {
  return Number(wei) / Math.pow(10, 18)
}

export function ethToWei(eth: number): bigint {
  return BigInt(Math.floor(eth * Math.pow(10, 18)))
}

export function formatTokenAmount(
  amount: bigint,
  decimals: number = 18,
  displayDecimals: number = 4
): string {
  const divisor = BigInt(Math.pow(10, decimals))
  const quotient = amount / divisor
  const remainder = amount % divisor
  
  const decimal = Number(remainder) / Math.pow(10, decimals)
  const total = Number(quotient) + decimal
  
  return total.toFixed(displayDecimals)
}

export function shortenTransactionHash(hash: string): string {
  return `${hash.slice(0, 6)}...${hash.slice(-4)}`
}
```

#### Date & Time Utilities
```typescript
// utils/time.ts
export function formatRelativeTime(date: Date | string): string {
  const now = new Date()
  const target = new Date(date)
  const diffMs = now.getTime() - target.getTime()
  
  const units = [
    { label: 'year', ms: 365 * 24 * 60 * 60 * 1000 },
    { label: 'month', ms: 30 * 24 * 60 * 60 * 1000 },
    { label: 'day', ms: 24 * 60 * 60 * 1000 },
    { label: 'hour', ms: 60 * 60 * 1000 },
    { label: 'minute', ms: 60 * 1000 },
    { label: 'second', ms: 1000 }
  ]
  
  for (const unit of units) {
    const value = Math.floor(diffMs / unit.ms)
    if (value > 0) {
      return `${value} ${unit.label}${value > 1 ? 's' : ''} ago`
    }
  }
  
  return 'just now'
}

export function isExpired(expiryDate: Date | string): boolean {
  return new Date(expiryDate) < new Date()
}

export function addDays(date: Date, days: number): Date {
  const result = new Date(date)
  result.setDate(result.getDate() + days)
  return result
}
```

### API Integration Utilities

#### HTTP Client Utilities
```typescript
// utils/api.ts
export interface ApiConfig {
  baseUrl: string
  timeout: number
  headers: Record<string, string>
}

export class ApiError extends Error {
  constructor(
    message: string,
    public status: number,
    public code?: string
  ) {
    super(message)
    this.name = 'ApiError'
  }
}

export async function apiRequest<T>(
  endpoint: string,
  options: RequestInit = {}
): Promise<T> {
  const url = `${process.env.NEXT_PUBLIC_API_BASE_URL}${endpoint}`
  
  const config: RequestInit = {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options.headers
    }
  }
  
  try {
    const response = await fetch(url, config)
    
    if (!response.ok) {
      throw new ApiError(
        `HTTP error! status: ${response.status}`,
        response.status
      )
    }
    
    return await response.json()
  } catch (error) {
    if (error instanceof ApiError) throw error
    
    throw new ApiError(
      `Network error: ${error.message}`,
      0,
      'NETWORK_ERROR'
    )
  }
}
```

#### Retry Utilities
```typescript
// utils/retry.ts
export interface RetryOptions {
  maxAttempts: number
  delayMs: number
  backoffMultiplier: number
  maxDelayMs: number
}

export async function retryOperation<T>(
  operation: () => Promise<T>,
  options: Partial<RetryOptions> = {}
): Promise<T> {
  const config = {
    maxAttempts: 3,
    delayMs: 1000,
    backoffMultiplier: 2,
    maxDelayMs: 10000,
    ...options
  }
  
  let lastError: Error
  
  for (let attempt = 1; attempt <= config.maxAttempts; attempt++) {
    try {
      return await operation()
    } catch (error) {
      lastError = error as Error
      
      if (attempt === config.maxAttempts) {
        throw lastError
      }
      
      const delay = Math.min(
        config.delayMs * Math.pow(config.backoffMultiplier, attempt - 1),
        config.maxDelayMs
      )
      
      await new Promise(resolve => setTimeout(resolve, delay))
    }
  }
  
  throw lastError!
}
```

### Local Storage Utilities

#### Safe Storage Access
```typescript
// utils/storage.ts
export function safeGetItem(key: string): string | null {
  if (typeof window === 'undefined') return null
  
  try {
    return localStorage.getItem(key)
  } catch (error) {
    console.warn(`Failed to get localStorage item "${key}":`, error)
    return null
  }
}

export function safeSetItem(key: string, value: string): boolean {
  if (typeof window === 'undefined') return false
  
  try {
    localStorage.setItem(key, value)
    return true
  } catch (error) {
    console.warn(`Failed to set localStorage item "${key}":`, error)
    return false
  }
}

export function safeRemoveItem(key: string): boolean {
  if (typeof window === 'undefined') return false
  
  try {
    localStorage.removeItem(key)
    return true
  } catch (error) {
    console.warn(`Failed to remove localStorage item "${key}":`, error)
    return false
  }
}

// Type-safe storage wrapper
export function createTypedStorage<T>(
  key: string,
  defaultValue: T,
  serialize = JSON.stringify,
  deserialize = JSON.parse
) {
  return {
    get(): T {
      const item = safeGetItem(key)
      if (item === null) return defaultValue
      
      try {
        return deserialize(item)
      } catch {
        return defaultValue
      }
    },
    
    set(value: T): boolean {
      try {
        return safeSetItem(key, serialize(value))
      } catch {
        return false
      }
    },
    
    remove(): boolean {
      return safeRemoveItem(key)
    }
  }
}
```

### Testing Utilities

#### Mock Data Generators
```typescript
// utils/test-helpers.ts
export function createMockWallet(overrides: Partial<WalletConnection> = {}): WalletConnection {
  return {
    address: '0x1234567890123456789012345678901234567890',
    chainId: 1,
    isConnected: true,
    provider: {},
    ...overrides
  }
}

export function createMockUser(overrides: Partial<User> = {}): User {
  return {
    id: 'user-123',
    address: '0x1234567890123456789012345678901234567890',
    username: 'testuser',
    avatar: 'https://example.com/avatar.jpg',
    createdAt: new Date().toISOString(),
    ...overrides
  }
}

export function createMockApiResponse<T>(
  data: T,
  overrides: Partial<ApiResponse<T>> = {}
): ApiResponse<T> {
  return {
    data,
    success: true,
    ...overrides
  }
}
```

### Performance Utilities

#### Debounce & Throttle
```typescript
// utils/performance.ts
export function debounce<T extends (...args: any[]) => any>(
  func: T,
  delayMs: number
): (...args: Parameters<T>) => void {
  let timeoutId: NodeJS.Timeout
  
  return (...args: Parameters<T>) => {
    clearTimeout(timeoutId)
    timeoutId = setTimeout(() => func(...args), delayMs)
  }
}

export function throttle<T extends (...args: any[]) => any>(
  func: T,
  intervalMs: number
): (...args: Parameters<T>) => void {
  let lastCallTime = 0
  
  return (...args: Parameters<T>) => {
    const now = Date.now()
    if (now - lastCallTime >= intervalMs) {
      lastCallTime = now
      func(...args)
    }
  }
}

export function memoize<T extends (...args: any[]) => any>(
  func: T,
  getKey?: (...args: Parameters<T>) => string
): T {
  const cache = new Map<string, ReturnType<T>>()
  
  return ((...args: Parameters<T>) => {
    const key = getKey ? getKey(...args) : JSON.stringify(args)
    
    if (cache.has(key)) {
      return cache.get(key)!
    }
    
    const result = func(...args)
    cache.set(key, result)
    return result
  }) as T
}
```

## TailwindCSS Utility Functions & Styling Helpers

### **TailwindCSS Class Composition Utilities**

#### 1. **Class Merging and Conditional Styling**
```typescript
// utils/cn.ts - Class composition utility
import { type ClassValue, clsx } from 'clsx'
import { twMerge } from 'tailwind-merge'

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}

// Usage examples
const buttonClass = cn(
  'tw-px-4 tw-py-2 tw-rounded-lg tw-font-medium tw-transition-colors',
  variant === 'primary' && 'tw-bg-primary-500 tw-text-white hover:tw-bg-primary-600',
  variant === 'secondary' && 'tw-bg-iron-600 tw-text-iron-50 hover:tw-bg-iron-500',
  disabled && 'tw-opacity-50 tw-cursor-not-allowed',
  loading && 'tw-animate-pulse'
)
```

#### 2. **Responsive Class Generation**
```typescript
// utils/responsive.ts - Responsive utility helpers
export function createResponsiveClasses(
  base: string,
  breakpoints: Record<string, string>
): string {
  const classes = [base]
  
  Object.entries(breakpoints).forEach(([breakpoint, className]) => {
    if (breakpoint === 'base') return
    classes.push(`${breakpoint}:${className}`)
  })
  
  return classes.join(' ')
}

// Usage
const gridClasses = createResponsiveClasses('tw-grid-cols-1', {
  sm: 'tw-grid-cols-2',
  lg: 'tw-grid-cols-3',
  '3xl': 'tw-grid-cols-4'
})
```

#### 3. **Theme-Aware Utility Functions**
```typescript
// utils/theme.ts - Theme utility functions
export const ironScale = {
  50: '#F5F5F5',
  100: '#EFEFF1',
  200: '#ECECEE',
  300: '#CECFD4',
  400: '#93939F',
  500: '#848490',
  600: '#60606C',
  650: '#4C4C55',
  700: '#37373E',
  800: '#26272B',
  900: '#1C1C21',
  950: '#131316'
} as const

export const primaryScale = {
  200: '#84ADFF',
  300: '#84ADFF',
  400: '#528BFF',
  500: '#406AFE',
  600: '#395FE4'
} as const

export function getIronClass(shade: keyof typeof ironScale, property: 'bg' | 'text' | 'border' = 'bg') {
  return `tw-${property}-iron-${shade}`
}

export function getPrimaryClass(shade: keyof typeof primaryScale, property: 'bg' | 'text' | 'border' = 'bg') {
  return `tw-${property}-primary-${shade}`
}

// Usage
const cardBackground = getIronClass(900, 'bg') // 'tw-bg-iron-900'
const primaryText = getPrimaryClass(500, 'text') // 'tw-text-primary-500'
```

#### 4. **Animation and Transition Helpers**
```typescript
// utils/animations.ts - Animation utility functions
export const customAnimations = {
  'loading-bar': 'tw-animate-loading-bar',
  'trophy-appear': 'tw-animate-trophy-appear',
  'gradient-shift': 'tw-animate-gradient-shift',
  'fade-in': 'tw-animate-fadeIn',
  'shake': 'tw-animate-shake',
  'gallery-reveal': 'tw-animate-gallery-reveal'
} as const

export function getAnimationClass(animation: keyof typeof customAnimations): string {
  return customAnimations[animation]
}

export function createTransitionClass(
  property: string = 'all',
  duration: string = '200ms',
  timing: string = 'ease-out'
): string {
  return `tw-transition-${property} tw-duration-${duration.replace('ms', '')} tw-${timing}`
}

// Usage
const buttonTransition = createTransitionClass('colors', '200ms', 'ease-out')
// Returns: 'tw-transition-colors tw-duration-200 tw-ease-out'
```

### **Component Variant Utilities**

#### 1. **Button Variant System**
```typescript
// utils/variants/button.ts - Button variant utilities
export type ButtonVariant = 'primary' | 'secondary' | 'danger' | 'ghost' | 'outline'
export type ButtonSize = 'sm' | 'md' | 'lg' | 'xl'

export const buttonVariants = {
  primary: 'tw-bg-primary-500 tw-text-white hover:tw-bg-primary-600 focus:tw-ring-primary-500',
  secondary: 'tw-bg-iron-600 tw-text-iron-50 hover:tw-bg-iron-500 focus:tw-ring-iron-500',
  danger: 'tw-bg-red-600 tw-text-white hover:tw-bg-red-700 focus:tw-ring-red-500',
  ghost: 'tw-text-iron-300 hover:tw-bg-iron-800 hover:tw-text-iron-50 focus:tw-ring-iron-700',
  outline: 'tw-border tw-border-iron-600 tw-text-iron-300 hover:tw-bg-iron-800 hover:tw-text-iron-50'
}

export const buttonSizes = {
  sm: 'tw-px-3 tw-py-1.5 tw-text-sm',
  md: 'tw-px-4 tw-py-2 tw-text-sm',
  lg: 'tw-px-6 tw-py-3 tw-text-base',
  xl: 'tw-px-8 tw-py-4 tw-text-lg'
}

export function getButtonClasses(variant: ButtonVariant, size: ButtonSize): string {
  const baseClasses = 'tw-inline-flex tw-items-center tw-justify-center tw-font-medium tw-rounded-lg tw-transition-all tw-duration-200 tw-focus:outline-none tw-focus:ring-2 tw-focus:ring-offset-2 tw-focus:ring-offset-iron-900'
  
  return cn(
    baseClasses,
    buttonVariants[variant],
    buttonSizes[size]
  )
}
```

#### 2. **Card Variant System**
```typescript
// utils/variants/card.ts - Card variant utilities
export type CardVariant = 'default' | 'elevated' | 'bordered' | 'featured' | 'compact'

export const cardVariants = {
  default: 'tw-bg-iron-900 tw-rounded-lg tw-p-6',
  elevated: 'tw-bg-iron-900 tw-rounded-lg tw-p-6 tw-shadow-lg tw-border tw-border-iron-700',
  bordered: 'tw-bg-iron-900 tw-rounded-lg tw-p-6 tw-border-2 tw-border-iron-600',
  featured: 'tw-bg-gradient-to-br tw-from-iron-900 tw-to-iron-800 tw-rounded-lg tw-p-8 tw-border-2 tw-border-primary-500 tw-shadow-xl',
  compact: 'tw-bg-iron-900 tw-rounded-lg tw-p-4 tw-border tw-border-iron-700'
}

export function getCardClasses(variant: CardVariant): string {
  return cardVariants[variant]
}
```

### **Responsive Design Utilities**

#### 1. **Breakpoint Utilities**
```typescript
// utils/responsive/breakpoints.ts - Responsive design utilities
export const breakpoints = {
  sm: '640px',
  md: '768px',
  lg: '1024px',
  xl: '1280px',
  '2xl': '1536px',
  '3xl': '2048px' // Custom breakpoint
} as const

export function useBreakpoint() {
  const [currentBreakpoint, setCurrentBreakpoint] = useState<string>('sm')
  
  useEffect(() => {
    const checkBreakpoint = () => {
      const width = window.innerWidth
      
      if (width >= 2048) setCurrentBreakpoint('3xl')
      else if (width >= 1536) setCurrentBreakpoint('2xl')
      else if (width >= 1280) setCurrentBreakpoint('xl')
      else if (width >= 1024) setCurrentBreakpoint('lg')
      else if (width >= 768) setCurrentBreakpoint('md')
      else setCurrentBreakpoint('sm')
    }
    
    checkBreakpoint()
    window.addEventListener('resize', checkBreakpoint)
    
    return () => window.removeEventListener('resize', checkBreakpoint)
  }, [])
  
  return currentBreakpoint
}
```

#### 2. **Container Query Utilities**
```typescript
// utils/responsive/container-queries.ts - Container query helpers
export function createContainerClass(minWidth: string): string {
  return `tw-@container/${minWidth}`
}

export function getContainerQueryClass(breakpoint: string, classes: string): string {
  return `@${breakpoint}:${classes}`
}

// Usage
const containerClasses = [
  'tw-@container',
  getContainerQueryClass('md', 'tw-flex-row'),
  getContainerQueryClass('lg', 'tw-gap-8')
].join(' ')
```

### **Form and Input Utilities**

#### 1. **Input State Utilities**
```typescript
// utils/forms/input-states.ts - Input state styling utilities
export type InputState = 'default' | 'error' | 'success' | 'warning'

export const inputStateClasses = {
  default: {
    border: 'tw-border-iron-600 focus:tw-border-primary-500',
    ring: 'focus:tw-ring-primary-500',
    bg: 'tw-bg-iron-800'
  },
  error: {
    border: 'tw-border-red-500 focus:tw-border-red-500',
    ring: 'focus:tw-ring-red-500',
    bg: 'tw-bg-red-900/20'
  },
  success: {
    border: 'tw-border-green-500 focus:tw-border-green-500',
    ring: 'focus:tw-ring-green-500',
    bg: 'tw-bg-green-900/20'
  },
  warning: {
    border: 'tw-border-yellow-500 focus:tw-border-yellow-500',
    ring: 'focus:tw-ring-yellow-500',
    bg: 'tw-bg-yellow-900/20'
  }
}

export function getInputClasses(state: InputState = 'default'): string {
  const stateStyles = inputStateClasses[state]
  const baseClasses = 'tw-w-full tw-px-3 tw-py-2 tw-rounded-lg tw-text-iron-50 tw-transition-colors focus:tw-outline-none focus:tw-ring-2 focus:tw-ring-offset-2 focus:tw-ring-offset-iron-900'
  
  return cn(
    baseClasses,
    stateStyles.bg,
    stateStyles.border,
    stateStyles.ring
  )
}
```

### **Mobile and Capacitor Utilities**

#### 1. **Safe Area Utilities**
```typescript
// utils/mobile/safe-area.ts - Safe area utilities
export const safeAreaClasses = {
  top: 'tw-pt-[env(safe-area-inset-top,0px)]',
  bottom: 'tw-pb-[env(safe-area-inset-bottom,0px)]',
  left: 'tw-pl-[env(safe-area-inset-left,0px)]',
  right: 'tw-pr-[env(safe-area-inset-right,0px)]'
} as const

export function getSafeAreaClasses(sides: Array<keyof typeof safeAreaClasses> = ['top', 'bottom']): string {
  return sides.map(side => safeAreaClasses[side]).join(' ')
}

export function createTouchTargetClass(minSize: string = '44px'): string {
  return `tw-min-h-[${minSize}] tw-min-w-[${minSize}] tw-touch-manipulation`
}
```

#### 2. **Performance Utilities**
```typescript
// utils/performance/gpu-acceleration.ts - GPU acceleration utilities
export const gpuAcceleratedClasses = {
  transform: 'tw-transform tw-translate3d-0',
  transition: 'tw-transition-transform',
  animation: 'tw-will-change-transform'
}

export function getGpuAcceleratedClasses(): string {
  return Object.values(gpuAcceleratedClasses).join(' ')
}
```

### **Web3-Specific Styling Utilities**

#### 1. **Wallet State Utilities**
```typescript
// utils/web3/wallet-styles.ts - Web3 wallet styling utilities
export type WalletConnectionState = 'disconnected' | 'connecting' | 'connected' | 'error'

export const walletStateStyles = {
  disconnected: {
    button: 'tw-bg-primary-500 tw-text-white hover:tw-bg-primary-600',
    indicator: 'tw-bg-gray-400'
  },
  connecting: {
    button: 'tw-bg-yellow-500 tw-text-white tw-cursor-wait tw-animate-pulse',
    indicator: 'tw-bg-yellow-400 tw-animate-pulse'
  },
  connected: {
    button: 'tw-bg-success tw-text-white hover:tw-bg-green',
    indicator: 'tw-bg-green-400 tw-animate-pulse'
  },
  error: {
    button: 'tw-bg-red-500 tw-text-white hover:tw-bg-red-600',
    indicator: 'tw-bg-red-400'
  }
}

export function getWalletButtonClasses(state: WalletConnectionState): string {
  const baseClasses = 'tw-px-6 tw-py-3 tw-rounded-lg tw-font-semibold tw-transition-all tw-duration-200 tw-flex tw-items-center tw-gap-2'
  return cn(baseClasses, walletStateStyles[state].button)
}
```

#### 2. **Transaction Status Utilities**
```typescript
// utils/web3/transaction-styles.ts - Transaction status styling
export type TransactionStatus = 'pending' | 'confirmed' | 'failed' | 'cancelled'

export const transactionStatusStyles = {
  pending: {
    bg: 'tw-bg-yellow-400/10',
    text: 'tw-text-yellow-400',
    border: 'tw-border-yellow-400/20',
    icon: 'tw-animate-spin'
  },
  confirmed: {
    bg: 'tw-bg-green-400/10',
    text: 'tw-text-green-400',
    border: 'tw-border-green-400/20',
    icon: ''
  },
  failed: {
    bg: 'tw-bg-red-400/10',
    text: 'tw-text-red-400',
    border: 'tw-border-red-400/20',
    icon: 'tw-animate-shake'
  },
  cancelled: {
    bg: 'tw-bg-iron-400/10',
    text: 'tw-text-iron-400',
    border: 'tw-border-iron-400/20',
    icon: ''
  }
}

export function getTransactionStatusClasses(status: TransactionStatus): {
  container: string
  indicator: string
  text: string
} {
  const styles = transactionStatusStyles[status]
  
  return {
    container: cn('tw-flex tw-items-center tw-gap-2 tw-px-3 tw-py-2 tw-rounded-lg tw-border', styles.bg, styles.border),
    indicator: cn('tw-w-2 tw-h-2 tw-rounded-full', styles.text, styles.icon),
    text: cn('tw-text-sm tw-font-medium', styles.text)
  }
}
```

### **Testing Utilities for TailwindCSS**

#### 1. **Class Testing Helpers**
```typescript
// utils/testing/tailwind-helpers.ts - Testing utilities for TailwindCSS
export function hasClassPattern(element: HTMLElement, pattern: RegExp): boolean {
  return pattern.test(element.className)
}

export function hasTailwindClass(element: HTMLElement, className: string): boolean {
  return element.classList.contains(className)
}

export function extractTailwindClasses(element: HTMLElement): string[] {
  return Array.from(element.classList).filter(cls => cls.startsWith('tw-'))
}

// Usage in tests
expect(hasClassPattern(button, /tw-bg-primary-\d+/)).toBe(true)
expect(hasTailwindClass(input, 'tw-border-iron-600')).toBe(true)
expect(extractTailwindClasses(card)).toContain('tw-rounded-lg')
```

### **Development and Debugging Utilities**

#### 1. **Class Name Debugging**
```typescript
// utils/debug/class-debug.ts - Development debugging utilities
export function logAppliedClasses(element: HTMLElement, label?: string): void {
  if (process.env.NODE_ENV === 'development') {
    const tailwindClasses = extractTailwindClasses(element)
    console.log(`${label || 'Element'} Tailwind classes:`, tailwindClasses)
  }
}

export function validateRequiredClasses(element: HTMLElement, requiredClasses: string[]): boolean {
  const missing = requiredClasses.filter(cls => !element.classList.contains(cls))
  
  if (missing.length > 0 && process.env.NODE_ENV === 'development') {
    console.warn('Missing required classes:', missing)
    return false
  }
  
  return true
}
```

---

**Keep utilities pure, focused, and well-typed. Each function should have a single responsibility and predictable behavior. ALL utilities must support TailwindCSS with tw- prefix patterns.**